var CinerchApp={};CinerchApp.MovieSuggestion=Backbone.Model.extend({}),CinerchApp.MovieSuggestions=Backbone.Collection.extend({model:CinerchApp.MovieSuggestion,url:function(){return Configuration.ServiceRoot+"/movie"}}),CinerchApp.Map=Backbone.Model.extend({defaults:function(){return{markers:[],infoWindow:null}},initialize:function(i){_.bindAll(this,"addSingleMarker"),this.infoWindow=new google.maps.InfoWindow,this.markers=[],this.locationMarkerMap={},this.mapCanvas=i.mapCanvas,this.mapOptions={center:new google.maps.LatLng(37.7833,-122.4167),zoom:12},google.maps.event.addDomListener(window,"load",this.initMap())},initMap:function(){this.map=new google.maps.Map(this.mapCanvas,this.mapOptions)},hasMarkers:function(){return this.markers.length>0},addSingleMarker:function(i,e,n,o){var t=new google.maps.Marker({position:n,map:this.map,draggable:!1,animation:google.maps.Animation.DROP,title:e}),a=this;google.maps.event.addListener(t,"click",function(){a.setInfoWindowContent(i,o)}),this.markers.push(t),this.locationMarkerMap[i]=t},addMarkers:function(i){var e=this;$.each(i,function(i,n){setTimeout(function(){e.addSingleMarker(n.id,n.name,n.position,n.funFacts)},250*i)})},deleteAllMarkers:function(){this.setAllMap(null),this.markers=[],locationMarkerMap={}},setAllMap:function(i){for(var e=0;e<this.markers.length;e++)this.markers[e].setMap(i)},setInfoWindowContent:function(i,e){if(this.locationMarkerMap[i])if(e.length>0){var n=this.locationMarkerMap[i],o='<div class = "MarkerPopUp" style="width: 300px; height:100px"><div id="locationTitle">'+n.title+'</div><div class = "MarkerContext">'+e+"</div></div>";this.infoWindow.setContent(o),this.infoWindow.open(this.map,n)}else this.infoWindow.close()}}),CinerchApp.Movie=Backbone.Model.extend({urlRoot:Configuration.ServiceRoot+"/movie",defaults:function(){return{id:0,Title:"",ReleaseYear:0,ProductionCompany:"",Distributor:"",Writer:"",Director:"",Actor1:"",Actor2:"",Actor3:""}}}),CinerchApp.MovieCollection=Backbone.Collection.extend({model:CinerchApp.Movie}),CinerchApp.Location=Backbone.Model.extend({defaults:{LocationId:0,Longitude:0,Latitude:0,Name:"",ZipCode:0,FunFacts:""}}),CinerchApp.MovieLocationCollection=Backbone.Collection.extend({initialize:function(i,e){this.id=e.id},url:function(){return Configuration.ServiceRoot+"/movielocations/"+this.id},model:CinerchApp.Location});